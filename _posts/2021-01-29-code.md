---
title:  "Code.md"
mathjax: true
layout: post
categories:
  - github
  - website
---


# Create .pot SCF.inp and JXC.inp D019 Fe2MnGe
SPRPATH=/home/mcardoso

function crossProduct {
    local -n v1=$1
    local -n v2=$2
    local result=()

    # You should remain to use bc because Bash only does integers. 
    result+=($( echo "(${v1[1]} * ${v2[2]}) - (${v1[2]} * ${v2[1]}) " | bc ))
    result+=($( echo "-((${v1[0]} * ${v2[2]}) - (${v1[2]} * ${v2[0]}))" | bc ))
    result+=($( echo "(${v1[0]} * ${v2[1]}) - (${v1[1]} * ${v2[0]})" | bc ))
    echo "${result[@]}"
}

# elements
ele_1=Fe
ele_2=Mn
ele_3=Ge

# Experimental Lattice Parameters (angstrom [Å]) (Zhang)
a_exp=`echo "5.22"|bc -l`
echo $a_exp
b_exp=`echo "sqrt(3)*${a_exp}"|bc -l`
echo $b_exp
c_exp=`echo "4.24"|bc -l`
echo $c_exp

# Experimental Lattice Parameters (atomic units of length [a.u.])
a_exp=`echo "1.8897259885789*${a_exp}"|bc -l`
echo $a_exp
b_exp=`echo "1.8897259885789*${b_exp}"|bc -l`
echo $b_exp
c_exp=`echo "1.8897259885789*${c_exp}"|bc -l`
echo $c_exp

# V_exp was divided by 3
v_exp=`echo "(${a_exp})^2*${c_exp}*sqrt(3)/2"|bc -l` 
echo $v_exp

# Experimental Lattice ratios
ba_exp=$(echo "${b_exp}/${a_exp}"|bc -l)
echo $ba_exp
ca_exp=$(echo "${c_exp}/${a_exp}"|bc -l)
echo $ca_exp

for i in 0.90 0.92 0.94 0.96 0.98 1.00; do

# New Volume
v=`echo "${i}*${v_exp}"|bc -l`
echo $v
mkdir v=${i}v_exp
cd v=${i}v_exp 

for j in 1.00; do

# New ratio c/a
ca=`echo "${j}*${ca_exp}"|bc -l`
echo $ca
mkdir ca=${j}ca_exp
cd ca=${j}ca_exp

# New lattice parameters
a=`echo "e((1/3)*l((2*${v})/(${ca}*sqrt(3))))"|bc -l`
echo $a
b=`echo "sqrt(3)*${a}"|bc -l`
echo $b
c=`echo " ${ca}*${a}"|bc -l`
echo $c

# ratio b/a
ba=`echo "${ba_exp}"|bc -l`
echo $ba

declare -A arr
# first vector
arr1[0,0]=0.5
arr1[0,1]=`echo "0.5*${ba}"|bc`
arr1[0,2]=0
#second vector
arr2[1,0]=-0.5
arr2[1,1]=`echo "0.5*${ba}"|bc`
arr2[1,2]=0
#third vector
arr3[2,0]=0
arr3[2,1]=0
arr3[2,2]=${ca}
echo "${arr1[0,0]} ${arr1[0,1]} ${arr1[0,2]}"  # example

vectResult=($(crossProduct arr2 arr3))
echo ${vectResult[0]} ${vectResult[1]} ${vectResult[2]}

dotProduct=$(echo "${arr1[0,0]}*${vectResult[0]}+${arr1[0,1]}*${vectResult[1]}+${arr1[0,2]}*${vectResult[2]}"|bc -l)
echo $dotProduct

pi=`echo "scale=10; 4*a(1)" | bc -l`

echo $pi

rws=`echo "e((1/3)*l((${dotProduct}*${a}^3)*(3/(8*4*${pi}))))"|bc -l`

echo $rws

rmt=`echo "0.85 * $rws"| bc`
echo $rmt

dx=`echo "l($rws / 0.000001) / 720.0" | bc -l`;
echo $dx
# Cartesian sites 1st  and 2nd  were placed directly but there is an expression that defines
# its positions https://www.cryst.ehu.es/cgi-bin/cryst/programs/nph-wp-list 
# and M.J. Mehl et al. / Computational Materials Science 136 (2017) S1–S828
# however it does not depends on a or c, 2nd depends only on the ratio b/a and a constant


SPRPATH=/home/mcardoso

ele_1=Mn
ele_2=V

for i in {1..9..1}
do
k=$(( 10 - $i ))

conc_2=`echo "0.1 * $i" | bc`
conc_1=`echo "0.1 * $k" | bc`
